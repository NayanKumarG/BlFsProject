package com.bridgelabz.oop.controller;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import com.bridgelabz.oop.model.InventoryModel;
import com.bridgelabz.oop.service.InventoryInf;
import com.bridgelabz.oop.serviceImpl.*;
import com.bridgelabz.util.*;
/*
 * program to manage the inventory
 */
public class InventoryManagement {
	static InventoryModel imodel = new InventoryModel();


	public double getTotal(JSONObject obj)
	{
		double weight = (double) obj.get("Weight");

		imodel.setWeight(weight);
		double price = (double) obj.get("Price");
		imodel.setPrice(price);
		double total = imodel.getPrice()*imodel.getweight();
		imodel.setTotal(total);
		return imodel.getTotal();

	}
	public static void main(String[] args) {
		InventoryInf im = new  InventoryManagementImpl();
		

		System.out.println("Inventory management system:");

		int ch;
		char c;
		do {

			System.out.println("Enter a choice");
			System.out.println("1.Rice "+"\n"+"2.Wheats"+"\n"+"3.pulses"+"\n");
			ch = Utility.inputInteger();
			switch(ch)
			{
			case 1 :
				itemDetails(ch);
				im.writeJSON(imodel);
				break;

			case 2 :itemDetails(ch);
			im.writeJSON(imodel);
			break;
			case 3 :itemDetails(ch);
			im.writeJSON(imodel);
			break;
			default : System.out.println("Enter a correct input:");
			break;

			}

			System.out.println("Do you want to continue Y/y or N/n");
			c= Utility.inputWord().charAt(0);
		}while(c =='Y' || c == 'y');
		

	}
	private static void itemDetails(int ch) {

		String items[] = {"Rice" , "Wheats" , "Pulses"};
System.out.print("Enter the "+items[ch-1]+" name :");
			String item = Utility.inputWord();
			System.out.print("Enter the price:");
			double price = Utility.inputDouble();
			System.out.print("Enter the weight:");
			double weight = Utility.inputDouble();
			imodel.setName(item);
            imodel.setPrice(price);
            imodel.setWeight(weight);
            


}
	}

